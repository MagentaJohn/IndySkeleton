<!DOCTYPE html>
<html>
  <head>
    <title>IndySkeleton</title>
    <style>
    body {
      padding: 0px;
      margin: 20px;
      overflow-x: hidden;
      overflow-y: hidden;
      background-size: 100vw 100vh;
      background-color: lightyellow;
      font-family: arial;
      font-size: 20px;
    }    
    </style>

    <link rel="stylesheet" href="./Rules.css" />    
  </head>
  <body>
    <h1>
      Instructions:
    </h1>
    <div>
      IndySkeleton is a Peer2PeerJS Indigo Test Program.<br>
      Insert two names in the panel below and press "Play".<br>
      On the next screen press the "Start" button to launch test environment<br>
      You are Player1 if "your name" is alphabetically less than "opponents name"<br>
      Player 1 has a blue screen and will initiate the request for a Peer2Peer connection<br>
      Player 2 has a green screen and will await the request for a Peer2Peer connection<br>
      During the test both players can use the keyboard keys a,b,c,d,e,f to transmit a message.<br>
      Player 1 transmits one of ALPHA, BRAVO, CHARLIE, DELTA, ECHO, FOXTROT<br>
      Player 2 transmits one of alpha, bravo, charlie, delta, echo, foxtrot<br>
      Both players may use Esc to close connection and Space to start a new connection<br>
      Please configure browser F12 to align on RHS<br><br>

    </div>
    <div id="readResults" class="configParams">
      <div>
        <i>1) Enter your name</i><br>
        <span title="This name is the first part of a key to establish the link to your opponent.">
          <div id="errorMsg1" class="configErrorMsg"><b>Invalid Name</b><br>
            Your name should be at least 3 characters long<br>
          </div>
          <div>
            <label for="myName" class="configLabel">Your Name:</label>
            <input id="myName" class="configValue" type="text" name="myName">  
          </div>
        </span>
      </div>

      <br>
      <div>
        <i>2) Enter your opponent&apos;s name</i><br>
        <span title="This name is the second part of a key to establish the link to your opponent.">
          <div id="errorMsg2" class="configErrorMsg"><b>Invalid Name</b><br>
            Your opponent&apos;s name should be at least 3 characters long and different from your name<br> 
          </div>
          <div>
            <label for="oppoName" class="configLabel">Opponent&apos;s Name:</label>
            <input id="oppoName" class="configValue" type="text" name="oppoName">  
          </div>
        </span>
      </div>
      
      <br>
     
    <br>
    <div id="Index">
      <button id="playButton" class="myButton" style="margin-right: 2em;" onclick = "Validate()">Play</button>
    </div>
    
    <script>
        
    function Validate() {
      console.log("@@@ Validate")

      // validate the new parameters

      var myName = document.getElementById("myName").value
      var oppoName = document.getElementById("oppoName").value

      var invalidParams = false;

      if (myName.length < 3)
      {
        document.getElementById("errorMsg1").style.display="block";
        invalidParams = true;
      }

      if (oppoName.length < 3)
      {
        document.getElementById("errorMsg2").style.display="block";
        invalidParams = true;
      }

      if (myName == oppoName)
      {
        document.getElementById("errorMsg2").style.display="block";
        invalidParams = true;
      }


      if (invalidParams == true) {
        // leave error message(s) showing if one or more paramters invalid
        document.getElementById("readResults").style.border="4px solid red";
        console.log("@@@ Invalid parameters detected")
        return;
      }

      // relocate to indigo environment
      window.location.href = "./index2.html?N1="+myName+"&N2="+oppoName;
    }
    </script>
  </body>
</html>
